<?xml version="1.0"?>
<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:local="clr-namespace:ICSharpCode.ILSpy;assembly=ProjectRover"
             xmlns:nodes="clr-namespace:ICSharpCode.ILSpy.TreeNodes;assembly=ProjectRover"
             x:Class="ICSharpCode.ILSpy.DebugStepsView"
             x:DataType="local:DebugStepsView"
             mc:Ignorable="d"
             d:DesignWidth="300" d:DesignHeight="300">
  <DockPanel>
    <StackPanel DockPanel.Dock="Top" Orientation="Horizontal" Spacing="6">
      <CheckBox Margin="3" Content="Use field sugar" />
      <CheckBox Margin="3" Content="Use logic operation sugar" />
      <CheckBox Margin="3" Content="Show IL ranges" />
      <CheckBox Margin="3" Content="Show child index in block" />
    </StackPanel>

    <TreeView Name="tree" ItemsSource="{Binding TreeRoot}">
      <TreeView.Styles>
        <Style Selector="TreeViewItem" x:DataType="nodes:DebugStepNode">
          <Setter Property="IsExpanded" Value="{Binding IsExpanded, Mode=TwoWay}" />
        </Style>
      </TreeView.Styles>

      <TreeView.DataTemplates>
        <TreeDataTemplate DataType="nodes:DebugStepNode" ItemsSource="{Binding Children}">
          <TextBlock Text="{Binding Description}" />
        </TreeDataTemplate>
      </TreeView.DataTemplates>

      <TreeView.ContextMenu>
        <ContextMenu>
          <MenuItem Header="Show state before this step" />
          <MenuItem Header="Show state after this step" />
          <MenuItem Header="Debug this step" />
        </ContextMenu>
      </TreeView.ContextMenu>
    </TreeView>
  </DockPanel>
</UserControl>
